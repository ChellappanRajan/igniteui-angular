<igx-input-group type="box" [displayDensity]="displayDensity">
    <input
        #input
        igxInput
        tabindex="0"
        placeholder="Search"
        autocomplete="off"
    />
</igx-input-group>

<igx-list [displayDensity]="displayDensity">
    <igx-list-item
        *igxFor="let item of dimensions; scrollOrientation: 'vertical'"
    >
        <igx-checkbox
            [value]="item"
            [tabindex]="-1"
            [checked]="item.isSelected"
            [disableRipple]="true"
            [indeterminate]="item.indeterminate"
            [disableTransitions]="true"
        >
            {{ item.memberName }}
        </igx-checkbox>
    </igx-list-item>
</igx-list>
<igx-accordion>
    <igx-expansion-panel [collapsed]="false" *ngFor="let panel of _panels">
        <igx-expansion-panel-header
            iconPosition="left"
            [disabled]="false"
            igxDrop
            [dropChannel]="panel.name"
            (dropped)="onItemDropped($event, panel.type)"
        >
            <igx-expansion-panel-title class="igx-pivot-data-selector__header">
                <h6 class="igx-pivot-data-selector__header-title">
                    {{ panel.name }}
                </h6>
                <div class="igx-pivot-data-selector__header-extra">
                    <igx-icon>{{ panel.icon }}</igx-icon>
                    <igx-chip>{{ this.grid[panel.dataKey].length }}</igx-chip>
                </div>
            </igx-expansion-panel-title>
        </igx-expansion-panel-header>
        <igx-expansion-panel-body
            igxDrop
            [dropChannel]="panel.name"
            (dropped)="onItemDropped($event, panel.type)"
        >
            <igx-list
                *ngIf="this.grid[panel.dataKey].length > 0"
                [displayDensity]="displayDensity"
            >
                <igx-list-item
                    igxDrag
                    (dragMove)="onItemDragMove($event)"
                    [dragChannel]="panel.dragChannels"
                    *ngFor="
                        let item of this.grid[panel.dataKey];
                        scrollOrientation: 'vertical'; let index
                    "
                    [id]="item[panel.itemKey]"
                >
                    <div class="igx-pivot-data-selector__item">
                        <div
                            class="igx-pivot-data-selector__item-text"
                            [class.igx-pivot-data-selector__action-sort]="panel.sortable"
                            (click)="onItemSort($event, item, panel.type)"
                        >
                            {{ item[panel.itemKey] }}
                        </div>
                        <div class="igx-pivot-data-selector__item-actions">
                            <igx-icon
                                class="igx-pivot-data-selector__action-sort"
                                *ngIf="panel.sortable && item.sortDirection"
                                (click)="onItemSort($event, item, panel.type)"
                            >
                                {{
                                    item.sortDirection < 2
                                        ? "arrow_upward"
                                        : "arrow_downward"
                                }}
                            </igx-icon>
                            <igx-icon
                                igxDragHandle
                                class="igx-pivot-data-selector__action-move"
                                *ngIf="panel.dragChannels.length > 0"
                                >drag_handle</igx-icon
                            >
                        </div>
                    </div>
                </igx-list-item>
            </igx-list>
            <div
                class="igx-pivot-data-selector__empty"
                *ngIf="this.grid[panel.dataKey].length === 0"
            >
                Drag Items Here
            </div>
        </igx-expansion-panel-body>
    </igx-expansion-panel>
</igx-accordion>
