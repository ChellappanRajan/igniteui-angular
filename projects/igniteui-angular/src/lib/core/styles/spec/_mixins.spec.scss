@include describe('Elevations') {
    $my-elevations: igx-elevations(red, green, blue);

    @include it('should add elevations as CSS variables') {
        @include assert() {

            @include output() {
                @include igx-elevation-vars($my-elevations);
            }

            @include contains() {
                --igx-elevation-0: none;
            }
        }
    }

    @include it('should get an elevation as a CSS variable from an elevations map') {
        $expected: none;

        $igx-legacy-support: true !global;
        $actual: igx-elevation($my-elevations, 0);
        @include assert-equal($actual, $expected);

        $igx-legacy-support: false !global;
        $actual: igx-elevation($my-elevations, 0);
        @include assert-equal($actual, $expected);
    }

    @include it('should get an elevation as a CSS variable w/ legacy-support off') {
        $expected: var(--igx-elevation-5);

        $igx-legacy-support: false !global;
        $actual: igx-elevation($elevation: 5);
        @include assert-equal($actual, $expected);
    }

    @include it('should get an elevation value w/ legacy-support on') {
        $expected: none;

        $igx-legacy-support: true !global;
        $actual: igx-elevation($elevation: 0);
        @include assert-equal($actual, $expected);
    }
}

@include describe('Register Component') {
    $components: () !default;

    @include it('should add new component inside components list') {
        @include register-component('my-component');
        @include assert-true(map-has-key($components, 'my-component'));
    }
}

@include describe('CSS Variables from themes') {
    @include it('should concatenated variable names in the right order:--[prefix]-[key]: var(--[name]-[key], [value])'){
        $name: red-theme;
        $key: color;
        $value: red;
        $prefix: 'my';

        $theme: (
            name: #{$name},
            #{$key}: #{$value}
        );
        @include assert() {
            @include output() {
                @include css-vars-from-theme($theme, #{$prefix});
            }

            @include contains() {
                --#{$prefix}-#{$key}: var(--#{$name}-#{$key}, #{$value});
            }
        }
    }

    @include it('should not generate variables for name, palette, variant, selector and elevation') {
        $theme: (
            name: green-theme,
            palette: my-palette,
            variant: my-variant,
            selector: my-selector,
            elevation: my-elevsation,
            color: green
        );
        @include assert() {
            @include output() {
                @include css-vars-from-theme($theme);
            }

            @include expect() {
                --color: var(--green-theme-color, green);
            }
        }
    }
}

@include describe('Generate color class') {
    @include it('should concatenate the name, variant, prefix, and suffix in the correct order.') {
        $name: primary;
        $variant: 500;
        $prefix: igx;
        $suffix: bg;
        $selector: #{$prefix}-#{$name}-#{$variant}-#{$suffix};

        @include assert() {
            @include output() {
                @include gen-color-class($name, $variant, $prefix, $suffix) {
                    content: 'test';
                };
            }

            @include expect() {
                .#{$selector}{
                    content: 'test'
                }
            }
        }
    }
}

@include describe('igx-palette-vars') {
    $my-palette: igx-palette(
        $primary: red,
        $secondary: green,
    );

    @include it('should generate variables for all palette colors') {
        @include assert() {
            @include output() {
                @include igx-palette-vars($my-palette);
            }

            @include contains() {
                --igx-primary-50: #ffc0c0;
                --igx-primary-50-contrast: black;
                --igx-primary-100: #faa7a7;
                --igx-primary-100-contrast: black;
                --igx-primary-200: #f16d6d;
                --igx-primary-200-contrast: black;
                --igx-primary-300: #f23c3c;
                --igx-primary-300-contrast: black;
                --igx-primary-400: #f71d1d;
                --igx-primary-400-contrast: black;
                --igx-primary-500: red;
                --igx-primary-500-contrast: black;
                --igx-primary-600: #e50000;
                --igx-primary-600-contrast: white;
                --igx-primary-700: #d20000;
                --igx-primary-700-contrast: white;
                --igx-primary-800: #be0000;
                --igx-primary-800-contrast: white;
                --igx-primary-900: #a80000;
                --igx-primary-900-contrast: white;
                --igx-primary-A100: #ff5555;
                --igx-primary-A100-contrast: black;
                --igx-primary-A200: #ff2727;
                --igx-primary-A200-contrast: black;
                --igx-primary-A400: #eb0000;
                --igx-primary-A400-contrast: white;
                --igx-primary-A700: #aa0000;
                --igx-primary-A700-contrast: white;
                --igx-secondary-50: #41ff41;
                --igx-secondary-50-contrast: black;
                --igx-secondary-100: #2ff42f;
                --igx-secondary-100-contrast: black;
                --igx-secondary-200: #13cc13;
                --igx-secondary-200-contrast: black;
                --igx-secondary-300: #0ba30b;
                --igx-secondary-300-contrast: black;
                --igx-secondary-400: #059005;
                --igx-secondary-400-contrast: black;
                --igx-secondary-500: green;
                --igx-secondary-500-contrast: white;
                --igx-secondary-600: #006600;
                --igx-secondary-600-contrast: white;
                --igx-secondary-700: #005300;
                --igx-secondary-700-contrast: white;
                --igx-secondary-800: #003f00;
                --igx-secondary-800-contrast: white;
                --igx-secondary-900: #002900;
                --igx-secondary-900-contrast: white;
                --igx-secondary-A100: #00d500;
                --igx-secondary-A100-contrast: black;
                --igx-secondary-A200: #00a700;
                --igx-secondary-A200-contrast: black;
                --igx-secondary-A400: #006c00;
                --igx-secondary-A400-contrast: white;
                --igx-secondary-A700: #002b00;
                --igx-secondary-A700-contrast: white;
            }
        }
    }
}

@include describe('Direction') {
    @include it('should return styles only when the global direction is RTL') {
        $direction: 'rtl' !global;

        @include assert() {
            @include output() {
                @include  if-rtl {
                    margin: 1px;
                }
            }

            @include expect() {
                margin: 1px;
            }
        }
    }
    @include it('should return styles only when the global direction is LTR') {
        $direction: 'ltr' !global;

        @include assert() {
            @include output() {
                @include  if-ltr {
                    margin: 1px;
                }
            }

            @include expect() {
                margin: 1px;
            }
        }
    }
}

@include describe('Animation') {
    @include it('should produce correct syntax for animation') {
        @include assert() {
            @include output() {
                @include fade-in();
                @include animation('fade-in' .3s ease-out);
            }

            @include contains() {
                animation: "fade-in" 0.3s ease-out;
            }
        }
    }
}

@include describe('Keyframes') {
    $keyframes: () !default;
    @include it('should registers a keyframe animation in the global keyframes registry list') {
        @include keyframes('my-keyframe');
        @include assert-true(map-has-key($keyframes, 'my-keyframe'));
    }

    @include it('should produce a keyframe animation with the passed name') {
        @include assert() {
            @include output() {
                @include keyframes('my-keyframe') {
                    0% {
                        opacity: 1;
                    }
                    100% {
                        opacity: 0;
                    }
                };
            }

            @include expect() {
                @keyframes keyframes {
                    0% {
                        opacity: 1;
                    }
                    100% {
                        opacity: 0;
                    }
                }
            }
        }
    }
}
